<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üéÑ Merry Christmas üéÑ</title>

<style>
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
}

body{
    height:100vh;
    overflow:hidden;
    background:
        radial-gradient(circle at top, #1a2a3a, #02040a 60%),
        linear-gradient(to bottom, #0a1020, #000);
    font-family:'Segoe UI', sans-serif;
}

/* ================= CANVAS ================= */
canvas{
    position:fixed;
    inset:0;
    pointer-events:none;
}

/* ================= STAR ================= */
.star{
    position:absolute;
    top:6vh;
    left:50%;
    transform:translateX(-50%);
    width:clamp(60px,15vw,120px);
    animation:starGlow 2s infinite alternate;
}

@keyframes starGlow{
    from{filter:drop-shadow(0 0 10px gold);}
    to{filter:drop-shadow(0 0 30px gold);}
}

/* ================= TREE ================= */
.tree{
    position:absolute;
    bottom:0;
    left:50%;
    transform:translateX(-50%);
    width:clamp(260px,70vw,700px);
}

/* ================= LIGHT ================= */
.light{
    position:absolute;
    width:clamp(120px,30vw,300px);
    animation:blink 1.2s infinite alternate;
}

@keyframes blink{
    0%{opacity:.3;}
    100%{opacity:1;}
}

/* ================= BELL ================= */
.bell{
    position:absolute;
    width:clamp(30px,6vw,55px);
    animation:swing 2.5s ease-in-out infinite;
    transform-origin:top center;
}

@keyframes swing{
    0%{transform:rotate(0);}
    25%{transform:rotate(10deg);}
    50%{transform:rotate(0);}
    75%{transform:rotate(-10deg);}
    100%{transform:rotate(0);}
}

/* ================= GIFT ================= */
.gift{
    position:absolute;
    width:clamp(50px,12vw,100px);
    cursor:pointer;
    transition:transform .3s;
}

.gift:hover{
    transform:scale(1.2) rotate(-5deg);
}

/* ================= MESSAGE ================= */
.message{
    position:fixed;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    width:min(90vw,480px);
    background:rgba(0,0,0,.85);
    color:#fff;
    padding:25px;
    border-radius:14px;
    font-size:clamp(16px,4vw,20px);
    display:none;
    text-align:center;
    z-index:10;
}

.message button{
    margin-top:15px;
    padding:10px 24px;
    border:none;
    border-radius:20px;
    cursor:pointer;
    background:#ff4d4d;
    color:#fff;
    font-size:16px;
}

/* ================= MUSIC BUTTON ================= */
.music-btn{
    position:fixed;
    top:15px;
    right:15px;
    width:clamp(45px,10vw,55px);
    height:clamp(45px,10vw,55px);
    border-radius:50%;
    background:rgba(255,255,255,.15);
    border:2px solid #fff;
    color:#fff;
    font-size:22px;
    cursor:pointer;
    backdrop-filter:blur(6px);
    display:flex;
    align-items:center;
    justify-content:center;
    z-index:20;
    transition:transform .3s;
}

.music-btn:hover{
    transform:scale(1.1);
}

.music-btn.playing{
    animation:pulse 1.5s infinite;
}

@keyframes pulse{
    0%{box-shadow:0 0 0 0 rgba(255,255,255,.6);}
    100%{box-shadow:0 0 0 15px rgba(255,255,255,0);}
}

/* ================= MOBILE ================= */
@media(max-width:600px){
    .light{display:none;}
}
</style>
</head>

<body>

<canvas id="snow"></canvas>

<audio id="bgMusic" loop>
    <source src="christmas.mp3" type="audio/mpeg">
</audio>

<div class="music-btn" id="musicBtn" onclick="toggleMusic()">üéµ</div>

<img src="star.png" class="star">
<img src="tree.png" class="tree">

<!-- LIGHT -->
<img src="light.png" class="light" style="top:25%; left:42%;">
<img src="light.png" class="light" style="top:40%; left:42%; animation-delay:.3s">
<img src="light.png" class="light" style="top:52%; left:42%; animation-delay:.6s">
<img src="light.png" class="light" style="top:70%; left:42%; animation-delay:.9s">

<!-- BELL -->
<img src="bell.png" class="bell" style="top:28%; left:48%;">
<img src="bell.png" class="bell" style="top:45%; left:44%; animation-delay:.3s">
<img src="bell.png" class="bell" style="top:58%; left:52%; animation-delay:.6s">
<img src="bell.png" class="bell" style="top:75%; left:42%; animation-delay:.9s">

<!-- GIFT -->
<img src="gift.png" class="gift" style="top:90%; left:50%;" onclick="showMessage()">
<img src="gift.png" class="gift" style="top:56%; left:42%;" onclick="showMessage()">
<img src="gift.png" class="gift" style="top:72%; left:52%;" onclick="showMessage()">
<img src="gift.png" class="gift" style="top:90%; left:22%;" onclick="showMessage()">
<img src="gift.png" class="gift" style="top:90%; left:82%;" onclick="showMessage()">
<img src="gift.png" class="gift" style="top:44%; left:50%;" onclick="showMessage()">

<!-- MESSAGE -->
<div class="message" id="message">  
<button onclick="closeMessage()">ƒê√≥ng</button>
</div>

<script>
/* ============== SNOW ============== */
const canvas = document.getElementById("snow");
const ctx = canvas.getContext("2d");

function resize(){
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resize();
window.addEventListener("resize", resize);

const snowImg = new Image();
snowImg.src = "snow.png";

let snow = [];

for(let i=0;i<120;i++){
    snow.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        size: Math.random() * 10 + 8,
        speed: Math.random() * 2 + 2
    });
}

function drawSnow(){
    ctx.clearRect(0,0,canvas.width,canvas.height);

    snow.forEach(s=>{
        ctx.drawImage(snowImg, s.x, s.y, s.size, s.size);
        s.y += s.speed;

        if(s.y > canvas.height){
            s.y = -s.size;
            s.x = Math.random() * canvas.width;
        }
    });
}

setInterval(drawSnow, 16);

/* ============== MUSIC ============== */
const music=document.getElementById("bgMusic");
const musicBtn=document.getElementById("musicBtn");
let isPlaying=false;

function toggleMusic(){
    if(!isPlaying){
        music.play();
        musicBtn.classList.add("playing");
        musicBtn.innerHTML="üîä";
    }else{
        music.pause();
        musicBtn.classList.remove("playing");
        musicBtn.innerHTML="üîá";
    }
    isPlaying=!isPlaying;
}

document.body.addEventListener("click",()=>{
    if(!isPlaying){
        music.play().then(()=>{
            isPlaying=true;
            musicBtn.classList.add("playing");
            musicBtn.innerHTML="üîä";
        }).catch(()=>{});
    }
},{once:true});

/* ============== BELL CLICK ============== */
document.querySelectorAll(".bell").forEach(b=>{
    b.onclick=()=>{
        b.style.animation="swing .3s infinite";
        setTimeout(()=>b.style.animation="swing 2.5s ease-in-out infinite",800);
    };
});
const wishes = [
    "üéÑ Ch√∫c b·∫°n m·ªôt m√πa Gi√°ng Sinh an l√†nh<br>‚ú® Tr√†n ƒë·∫ßy ni·ªÅm vui & h·∫°nh ph√∫c ‚ú®",
    "üéÅ Merry Christmas!<br>‚ùÑÔ∏è Mong m·ªçi ƒëi·ªÅu t·ªët ƒë·∫πp s·∫Ω ƒë·∫øn v·ªõi b·∫°n ‚ùÑÔ∏è",
    "üéÖ Gi√°ng Sinh ·∫•m √°p<br>‚ù§Ô∏è B√™n gia ƒë√¨nh & nh·ªØng ng∆∞·ªùi th√¢n y√™u ‚ù§Ô∏è",
    "üåü Ch√∫c b·∫°n Noel vui v·∫ª<br>üé∂ B√¨nh an ‚Äì H·∫°nh ph√∫c ‚Äì Th√†nh c√¥ng üé∂",
    "üéÑ Noel n√†y<br>‚ú® C∆∞·ªùi nhi·ªÅu h∆°n ‚Äì Bu·ªìn √≠t h∆°n ‚Äì Y√™u nhi·ªÅu h∆°n ‚ú®",
    "üéÅ Ch√∫c b·∫°n m·ªôt Gi√°ng Sinh<br>üíñ Ng·∫≠p tr√†n y√™u th∆∞∆°ng & ph√©p m√†u üíñ"
];
/* ============== MESSAGE ============== */
let lastIndex = -1;
function showMessage(){
    let index;
    do{
        index = Math.floor(Math.random() * wishes.length);
    }while(index === lastIndex);
    lastIndex = index;

    message.innerHTML = wishes[index] + '<br><button onclick="closeMessage()">ƒê√≥ng</button>';
    message.style.display="block";
}
function closeMessage(){
    document.getElementById("message").style.display="none";
}
</script>

</body>
</html>
